# üß† FuLang ‚Äî –ú–∏–Ω–∏-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —è–∑—ã–∫–∞

–≠—Ç–æ—Ç –ø–∞–∫–µ—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —è–∑—ã–∫–∞ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é:

- –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–π –ø–æ –∑–∞–¥–∞–Ω–Ω–æ–π –≥—Ä–∞–º–º–∞—Ç–∏–∫–µ
- –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –≤—ã—Ä–∞–∂–µ–Ω–∏–π
- –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –∑–∞–ø—É—Å–∫–∞ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π REPL-–æ–±–æ–ª–æ—á–∫–∏

> ‚ö†Ô∏è –¢—Ä–µ–±—É–µ–º–∞—è –≤–µ—Ä—Å–∏—è PHP: **>= 8.0**

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/for-i2crm/fu-lang.git
cd fu-lang
composer install
```

---

## üìò –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

–ü—Ä–æ–≥—Ä–∞–º–º–∞ ‚Äî —ç—Ç–æ –æ–¥–Ω–æ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ:

```
<–≤—ã—Ä–∞–∂–µ–Ω–∏–µ> ::= <–≤—ã–∑–æ–≤_—Ñ—É–Ω–∫—Ü–∏–∏> | <–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞>
<–≤—ã–∑–æ–≤_—Ñ—É–Ω–∫—Ü–∏–∏> ::= '(' <–∏–º—è> ')' | '(' <–∏–º—è>, <–∞—Ä–≥—É–º–µ–Ω—Ç—ã> ')'
<–∞—Ä–≥—É–º–µ–Ω—Ç—ã> ::= <–≤—ã—Ä–∞–∂–µ–Ω–∏–µ> | <–≤—ã—Ä–∞–∂–µ–Ω–∏–µ>, <–∞—Ä–≥—É–º–µ–Ω—Ç—ã>
<–∫–æ–Ω—Å—Ç–∞–Ω—Ç–∞> ::= "—Å—Ç—Ä–æ–∫–∞" | —á–∏—Å–ª–æ | true | false | null
```

–ü—Ä–∏–º–µ—Ä:

```lisp
(concat, "–ü—Ä–∏–≤–µ—Ç, ", (getArg, 0))
```

---

## ‚öô –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

üìÅ –§–∞–π–ª `bin/run.php` –∑–∞–ø—É—Å–∫–∞–µ—Ç —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏:

```bash
php bin/run.php –ò–≤–∞–Ω
```

–í—ã—Ö–æ–¥:

```
–ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω
```

---

## üíª –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (REPL)

```bash
php bin/repl.php
```

> –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å REPL –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å —è–∑—ã–∫–æ–º.

### üîπ –ü—Ä–∏–º–µ—Ä—ã:

```lisp
> :setarg 0 –º–∏—Ä
> (concat, "–ü—Ä–∏–≤–µ—Ç, ", (getArg, 0))
–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä

> (array, 1, 2, 3)
[1, 2, 3]

> (map, (array, "–∫–ª—é—á"), (array, "–∑–Ω–∞—á–µ–Ω–∏–µ"))
{
  "–∫–ª—é—á": "–∑–Ω–∞—á–µ–Ω–∏–µ"
}
```

---

## üõ† –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

| –ò–º—è —Ñ—É–Ω–∫—Ü–∏–∏ | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
|-------------|----------------------------------------------------|
| `getArg(N)` | –ü–æ–ª—É—á–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É                       |
| `array(...)` | –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Å—Å–∏–≤                                  |
| `map(keys, values)` | –°–æ–∑–¥–∞–µ—Ç –∞—Å—Å–æ—Ü–∏–∞—Ç–∏–≤–Ω—ã–π –º–∞—Å—Å–∏–≤                       |
| `json(value)` | –°–æ–∑–¥–∞–µ—Ç JSON-–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ                         |
| `concat(a, b)` | –°–æ–≤–µ—Ä—â–∞–µ—Ç –∫–æ–Ω–∫–∞—Ç–µ–Ω–∞—Ü–∏—è —Å—Ç—Ä–æ–∫                       |
| `upper(string)` | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –≤–µ—Ä—Ö–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä |
| `lower(string)` | –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏ –≤ –Ω–∏–∂–Ω–∏–π —Ä–µ–≥–∏—Å—Ç—Ä                    |

---

## üß© –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π, –¥–æ–±–∞–≤—å—Ç–µ –≤ —Å–≤–æ–µ–º –∫–æ–¥–µ:

```php
$interpreter->addFunction('strlen', fn($s) => strlen($s));
```

–î–∞–ª–µ–µ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ –≤—ã—Ä–∞–∂–µ–Ω–∏—è—Ö (–ø—Ä–∏–º–µ—Ä –Ω–∏–∂–µ):

```lisp
(strlen, "–ü—Ä–∏–≤–µ—Ç")
```

---

## üîß –ö–æ–º–∞–Ω–¥—ã REPL

| –ö–æ–º–∞–Ω–¥–∞        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                      |
|----------------|---------------------------------|
| `:setarg N V`  | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞—Ä–≥—É–º–µ–Ω—Ç –ø–æ –∏–Ω–¥–µ–∫—Å—É |
| `:args`        | –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã     |
| `:reset`       | –°–±—Ä–æ—Å–∏—Ç—å –≤—Å–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã         |
| `:exit`        | –ó–∞–≤–µ—Ä—à–∏—Ç—å REPL                 |
| `:help`        | –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É               |

---

## üß™ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–¥–µ

```php
use FunctionalLang\Core\Parser;
use FunctionalLang\Core\Interpreter;

$parser = new Parser('(upper, (concat, "–ü—Ä–∏–≤–µ—Ç, ", (getArg, 0)))');
$ast = $parser->parse();

$interpreter = new Interpreter();
$interpreter->addDefaultFunctions();
$result = $interpreter->eval($ast, ['–º–∏—Ä']);

echo $result;
```

```lisp
–ü–†–ò–í–ï–¢, –ú–ò–†
```

---

## üì¶ –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–§—Ä–µ–π–º–≤–æ—Ä–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PSR-4 –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ **PHP >= 8.0**.  
–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∑–∞–≥—Ä—É–∑–∫–∏:

```bash
composer dump-autoload
```

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á.